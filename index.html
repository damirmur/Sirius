<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="Content-Script-Type" content="text/javascript">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <!--link rel="stylesheet" href="/css/reset.css"-->

   <script type="text/javascript" src="Pluto.js"></script> 
    <title>Pluto.js</title>
  </head>
  <body>
    <h1>Pluto.js</h1>
    <table id="result">
      <tr>
        <th>Planet</th>
        <th>Longitude</th>
        <th>Longitude Speed</th>
        <th>Laitude</th>
        <th>Laitude Speed</th>
      </tr>
    </table>
    <script>
      var signs = [
          "Aries",
          "Tauros",
          "Gemini",
          "Cancer",
          "Leo",
          "Virgo",
          "Libra",
          "Scopio",
          "Sagiterius",
          "Capricorn",
          "Aquarius",
          "Pisces",
        ];

      var start_ms = new Date().getTime();

      $pl.setDate(2000, 7, 1, 0, 0, 0, 0);
      $pl.getPositions();


      //var p = Pluto.getPlanetPosition();
      //a.setGeoPosition(43, 135);
      //var h = a.getHouse("K");

      for(var i=0; i<$pl.planetNames.length; i++){
        var planet = $pl.planetNames[i];
        var text = "";

        text += '<tr>';
        text += '<td>' + planet + '</td>';
        text += '<td>'+getDigit60($pl.planets[planet].longitude);
        text += ' ('+($pl.planets[planet].longitude).toFixed(6)+')</td>';
        text += '<td>'+getDigit60($pl.planets[planet].longitudeSpeed);
        text += ' ('+($pl.planets[planet].longitudeSpeed).toFixed(6)+')</td>';
        text += '<td>'+getDigit60($pl.planets[planet].latitude);
        text += ' ('+($pl.planets[planet].latitude).toFixed(6)+')</td>';
        text += '<td>'+getDigit60($pl.planets[planet].latitudeSpeed);
        text += ' ('+($pl.planets[planet].latitudeSpeed).toFixed(6)+')</td>';

        text += "</tr>";

        document.getElementById("result").innerHTML += text;
      }
      

      var elapsed_ms = new Date().getTime() - start_ms;
      console.log('処理時間：' + elapsed_ms);

      function getDigit60(degree){
        var minus = degree < 0 ? "-" : "";
        degree = Math.abs(degree);
        return minus + parseInt(degree) + "° " + parseInt(degree % 1 * 60) + "' " + (degree * 60 % 1 * 60 ).toFixed(4);
      }
    </script>
  </body>